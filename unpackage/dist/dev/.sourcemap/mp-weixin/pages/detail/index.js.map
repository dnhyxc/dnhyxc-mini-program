{"version":3,"file":"index.js","sources":["pages/detail/index.vue","pages/detail/index.vue?type=page"],"sourcesContent":["<template>\r\n\t<div v-if=\"articleStore.detailLoading\" class=\"detail-wrap-loading\">\r\n\t\t<u-loading-icon vertical size=\"38\" text=\"正在加载中\" color=\"#5782ff\"></u-loading-icon>\r\n\t</div>\r\n\t<scroll-view v-else :enable-back-to-top=\"true\" :enable-flex=\"true\" :enable-passive=\"true\" class=\"detail-wrap\"\r\n\t\tscroll-y=\"true\">\r\n\t\t<div class=\"title-wrap\">\r\n\t\t\t<div class=\"title\">{{ articleStore?.detail?.title }}</div>\r\n\t\t\t<div class=\"user-info\">\r\n\t\t\t\t<image v-if=\"articleStore?.detail?.headUrl\" :src=\"articleStore?.detail?.headUrl\" class=\"herd-img\"\r\n\t\t\t\t\t@error=\"onHeadImgError\" />\r\n\t\t\t\t<div class=\"create-info\">\r\n\t\t\t\t\t<div class=\"username\">\r\n\t\t\t\t\t\t<span>{{ articleStore?.detail?.authorName }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span>{{ formatDate(articleStore?.detail?.createTime!, 'YYYY年MM月DD日 HH:mm') }}</span>\r\n\t\t\t\t\t\t<span class=\"read-count\">阅读 {{ articleStore?.detail?.readCount }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<image v-if=\"articleStore?.detail?.coverImage\" :src=\"articleStore?.detail?.coverImage\" class=\"image\"\r\n\t\t\t\t@error=\"onCoverImgError\" />\r\n\t\t\t<p class=\"desc\" v-html=\"articleStore?.detail?.abstract\" />\r\n\t\t</div>\r\n\t\t<mp-html :content=\"articleStore.html\" style=\"line-height: 2em;\" />\r\n\t</scroll-view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n\timport { ref } from \"vue\";\r\n\t// @ts-ignore\r\n\timport { onLoad } from \"@dcloudio/uni-app\";\r\n\timport { useArticleStore } from \"../../stores/article\";\r\n\timport { formatDate } from '../../utils'\r\n\t// @ts-ignore\r\n\timport mpHtml from '@/components/mp-html/mp-html.vue'\r\n\r\n\tconst articleStore = useArticleStore();\r\n\r\n\t// 通过 options 获取路由跳转携带的参数\r\n\tonLoad(async (options) => {\r\n\t\t// 获取扫码进入的 scene 参数\r\n\t\tconst id = decodeURIComponent(options.scene);\r\n\t\tconst articleId = !['undefined', 'null'].includes(id) ? id : options?.id\r\n\t\tawait articleStore.getDetail(articleId);\r\n\t});\r\n\r\n\tconst onHeadImgError = () => {\r\n\t\tarticleStore.detail.headUrl = ''\r\n\t}\r\n\r\n\tconst onCoverImgError = () => {\r\n\t\tarticleStore.detail.coverImage = ''\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t@import \"@/styles/index.scss\";\r\n\r\n\t.detail-wrap {\r\n\t\tbackground-color: $bg;\r\n\t\tpadding: 15px;\r\n\t\tbox-sizing: border-box;\r\n\t\tmin-height: 100vh;\r\n\r\n\r\n\t\t.title-wrap {\r\n\t\t\twidth: 100%;\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t.title {\r\n\t\t\t\tfont-size: 20px;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tmargin-bottom: 15px;\r\n\t\t\t\tword-break: break-all;\r\n\t\t\t}\r\n\r\n\t\t\t.user-info {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: flex-start;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: 20px;\r\n\r\n\t\t\t\t.herd-img {\r\n\t\t\t\t\twidth: 60px;\r\n\t\t\t\t\theight: 60px;\r\n\t\t\t\t\tborder-radius: 60px;\r\n\t\t\t\t\tmargin-right: 10px;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.create-info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\t\t.username {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tfont-size: 16px;\r\n\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\tmargin-bottom: 10px;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.read-count {\r\n\t\t\t\t\t\tmargin: 0 15px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.image {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 180px;\r\n\t\t\t\tobject-fit: cover;\r\n\t\t\t\tborder-radius: 5px;\r\n\t\t\t}\r\n\r\n\t\t\t.desc {\r\n\t\t\t\tmargin-top: 10px;\r\n\t\t\t\tmargin-bottom: 30px;\r\n\t\t\t\twhite-space: pre-wrap;\r\n\t\t\t\tcolor: #282c34;\r\n\t\t\t\tfont-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\r\n\t\t\t\t\tUbuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\r\n\t\t\t\t-webkit-font-smoothing: antialiased;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t.detail-wrap-loading {\r\n\t\theight: 100vh;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\r\n\t\t:deep {\r\n\t\t\t.u-loading-icon__text {\r\n\t\t\t\tfont-size: 18px !important;\r\n\t\t\t\tcolor: #5782ff !important;\r\n\t\t\t\tmargin-top: 15px !important;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n<style>\r\n\t/* \r\n\t\t注意：\r\n\t\t\t这里对 rich-text 中内容不同通过标签名设置样式，通过标签名设置样式不会生效。\r\n\t\t\t需要通过类名进行设置。\r\n\t*/\r\n\t.head {\r\n\t\tpadding: 10px 0 8px;\r\n\t}\r\n\r\n\t.custom-alert {\r\n\t\tbackground-color: #cbefff;\r\n\t\tpadding: 5px 10px;\r\n\t\tborder-radius: 5px;\r\n\t\tmargin: 10px 0;\r\n\t\tborder: 1px solid #abb2bf;\r\n\t}\r\n\r\n\t.alert-title {\r\n\t\tcolor: #455a64;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.alert-content {\r\n\t\tcolor: #455a64;\r\n\t}\r\n\r\n\t.abstract {\r\n\t\tbackground-color: #d1eefb;\r\n\t\tborder: 1px solid #02b1ff;\r\n\t}\r\n\r\n\t.abstract .alert-title,\r\n\t.abstract .alert-content {\r\n\t\tcolor: #02b1ff;\r\n\t}\r\n\r\n\t.bug {\r\n\t\tbackground-color: #ffd3e2;\r\n\t\tborder: 1px solid #f60357;\r\n\t}\r\n\r\n\t.bug .alert-title,\r\n\t.bug .alert-content {\r\n\t\tcolor: #f60357;\r\n\t}\r\n\r\n\t.caution {\r\n\t\tbackground-color: #ffe7c4;\r\n\t\tborder: 1px solid #ffa726;\r\n\t}\r\n\r\n\t.caution .alert-title,\r\n\t.caution .alert-content {\r\n\t\tcolor: #ffa726;\r\n\t}\r\n\r\n\t.danger {\r\n\t\tbackground-color: #ffe4e4;\r\n\t\tborder: 1px solid #ff5252;\r\n\t}\r\n\r\n\t.danger .alert-title,\r\n\t.danger .alert-content {\r\n\t\tcolor: #ff5252;\r\n\t}\r\n\r\n\t.error {\r\n\t\tbackground-color: #ffd8d8;\r\n\t\tborder: 1px solid #d32f2f;\r\n\t}\r\n\r\n\t.error .alert-title,\r\n\t.error .alert-content {\r\n\t\tcolor: #d32f2f;\r\n\t}\r\n\r\n\t.example {\r\n\t\tbackground-color: #e3d8ff;\r\n\t\tborder: 1px solid #7c4dff;\r\n\t}\r\n\r\n\t.example .alert-title,\r\n\t.example .alert-content {\r\n\t\tcolor: #7c4dff;\r\n\t}\r\n\r\n\t.failure {\r\n\t\tbackground-color: #ffd9d9;\r\n\t\tborder: 1px solid #c2185b;\r\n\t}\r\n\r\n\t.failure .alert-title,\r\n\t.failure .alert-content {\r\n\t\tcolor: #c2185b;\r\n\t}\r\n\r\n\t.hint {\r\n\t\tbackground-color: #cdf4f0;\r\n\t\tborder: 1px solid #009688;\r\n\t}\r\n\r\n\t.hint .alert-title,\r\n\t.hint .alert-content {\r\n\t\tcolor: #009688;\r\n\t}\r\n\r\n\t.custom-alert-header {\r\n\t\tborder-radius: 5px;\r\n\t\tpadding: 5px;\r\n\t}\r\n\r\n\t.info {\r\n\t\tbackground-color: #e3e3e3;\r\n\t\tborder: 1px solid #333;\r\n\t}\r\n\r\n\t.info .alert-title,\r\n\t.info .alert-content {\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.note {\r\n\t\tbackground-color: #d5e2f9;\r\n\t\tborder: 1px solid #448aff;\r\n\t}\r\n\r\n\t.note .alert-title,\r\n\t.note .alert-content {\r\n\t\tcolor: #448aff;\r\n\t}\r\n\r\n\t.question {\r\n\t\tbackground-color: #fff1dd;\r\n\t\tborder: 1px solid #f0b400;\r\n\t}\r\n\r\n\t.question .alert-title,\r\n\t.question .alert-content {\r\n\t\tcolor: #f0b400;\r\n\t}\r\n\r\n\t.quote {\r\n\t\tbackground-color: #f0f0f0;\r\n\t\tborder: 1px solid #9e9e9e;\r\n\t}\r\n\r\n\t.quote .alert-title,\r\n\t.quote .alert-content {\r\n\t\tcolor: #9e9e9e;\r\n\t}\r\n\r\n\t.success {\r\n\t\tbackground-color: #c1f1d5;\r\n\t\tborder: 1px solid #00c852;\r\n\t}\r\n\r\n\t.success .alert-title,\r\n\t.success .alert-content {\r\n\t\tcolor: #00c852;\r\n\t}\r\n\r\n\t.tip {\r\n\t\tbackground-color: #e6e6e6;\r\n\t\tborder: 1px solid #666;\r\n\t}\r\n\r\n\t.tip .alert-title,\r\n\t.tip .alert-content {\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.warning {\r\n\t\tbackground-color: #ffe9cc;\r\n\t\tborder: 1px solid #ff9104;\r\n\t}\r\n\r\n\t.warning .alert-title,\r\n\t.warning .alert-content {\r\n\t\tcolor: #ff9104;\r\n\t}\r\n\r\n\tspan[class=\"katex-html\"][aria-hidden=\"true\"] {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.table {\r\n\t\tborder: 1px solid #ccc;\r\n\t\tborder-spacing: 0;\r\n\t\tborder-radius: 5px;\r\n\t\tborder-collapse: collapse;\r\n\t}\r\n\r\n\t.table .td {\r\n\t\tborder: 1px solid #ccc;\r\n\t\tpadding: 0 3px;\r\n\t}\r\n\r\n\t.table .th {\r\n\t\tborder: 1px solid #ccc;\r\n\t\tpadding: 0 3px;\r\n\t}\r\n\r\n\t.code-container {\r\n\t\tposition: relative;\r\n\t\tbackground-color: #282c34;\r\n\t\tpadding: 25px 10px 10px;\r\n\t\tborder-radius: 5px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t.code-content {\r\n\t\tborder-radius: 5px;\r\n\t\toverflow-x: auto;\r\n\t}\r\n\r\n\t.code-title {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\theight: 25px;\r\n\t\tcolor: #ccc;\r\n\t\tfont-size: 12px;\r\n\t\tpadding-right: 10px;\r\n\t}\r\n\r\n\t.code-flag {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 100%;\r\n\t\tmargin-right: 20px;\r\n\t\tpadding-left: 20px;\r\n\t}\r\n\r\n\t.code-flag .flag {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 10px;\r\n\t\theight: 10px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: red;\r\n\t}\r\n\r\n\t.code-flag .first-flag {\r\n\t\tbackground-color: #ec6a6b;\r\n\t}\r\n\r\n\t.code-flag .secend-flag {\r\n\t\tbackground-color: #f4bf4f;\r\n\t\tmargin: 0 5px;\r\n\t}\r\n\r\n\t.code-flag .third-flag {\r\n\t\tbackground-color: #61c554;\r\n\t}\r\n\r\n\t.code-line {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\tline-height: 1.5em;\r\n\t}\r\n\r\n\t.line-number {\r\n\t\tpadding-right: 10px;\r\n\t\ttext-align: right;\r\n\t\tcolor: #999;\r\n\t\tuser-select: none;\r\n\t}\r\n\r\n\t.hljs {\r\n\t\tcolor: #abb2bf;\r\n\t\tbackground: #282c34;\r\n\t\tpadding-right: 10px;\r\n\t}\r\n\r\n\t.hljs-inline {\r\n\t\tcolor: #2bb91b;\r\n\t\tline-height: 1em;\r\n\t\tpadding: 2px 5px 3px;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t.hljs-comment,\r\n\t.hljs-quote {\r\n\t\tcolor: #5c6370;\r\n\t\tfont-style: italic;\r\n\t}\r\n\r\n\t.hljs-quote {\r\n\t\tborder-left: 3px solid #abb2bf;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tborder-radius: 5px;\r\n\t\tpadding-left: 5px;\r\n\t\tmargin: 5px 0;\r\n\t}\r\n\r\n\t.hljs-doctag,\r\n\t.hljs-keyword,\r\n\t.hljs-formula {\r\n\t\tcolor: #c678dd;\r\n\t}\r\n\r\n\t.hljs-section,\r\n\t.hljs-name,\r\n\t.hljs-selector-tag,\r\n\t.hljs-deletion,\r\n\t.hljs-subst {\r\n\t\tcolor: #e06c75;\r\n\t}\r\n\r\n\t.hljs-literal {\r\n\t\tcolor: #56b6c2;\r\n\t}\r\n\r\n\t.hljs-string,\r\n\t.hljs-regexp,\r\n\t.hljs-addition,\r\n\t.hljs-attribute,\r\n\t.hljs-meta .hljs-string {\r\n\t\tcolor: #98c379;\r\n\t}\r\n\r\n\t.hljs-attr,\r\n\t.hljs-variable,\r\n\t.hljs-template-variable,\r\n\t.hljs-type,\r\n\t.hljs-selector-class,\r\n\t.hljs-selector-attr,\r\n\t.hljs-selector-pseudo,\r\n\t.hljs-number {\r\n\t\tcolor: #d19a66;\r\n\t}\r\n\r\n\t.hljs-symbol,\r\n\t.hljs-bullet,\r\n\t.hljs-link,\r\n\t.hljs-meta,\r\n\t.hljs-selector-id,\r\n\t.hljs-title {\r\n\t\tcolor: #61aeee;\r\n\t}\r\n\r\n\t.hljs-built_in,\r\n\t.hljs-title.class_,\r\n\t.hljs-class .hljs-title {\r\n\t\tcolor: #e6c07b;\r\n\t}\r\n\r\n\t.hljs-emphasis {\r\n\t\tfont-style: italic;\r\n\t}\r\n\r\n\t.hljs-strong {\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.hljs-link {\r\n\t\ttext-decoration: underline;\r\n\t}\r\n</style>","import MiniProgramPage from '/Users/dnhyxc/Documents/miniprogram/dnhyxc/pages/detail/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useArticleStore","onLoad"],"mappings":";;;;;;;;;;;;AAoCC,MAAA,SAAmB,MAAA;;;;AAEnB,UAAM,eAAeA,eAAAA;AAGrBC,kBAAA,OAAO,OAAO,YAAY;AAEnB,YAAA,KAAK,mBAAmB,QAAQ,KAAK;AACrC,YAAA,YAAY,CAAC,CAAC,aAAa,MAAM,EAAE,SAAS,EAAE,IAAI,KAAK,mCAAS;AAChE,YAAA,aAAa,UAAU,SAAS;AAAA,IAAA,CACtC;AAED,UAAM,iBAAiB,MAAM;AAC5B,mBAAa,OAAO,UAAU;AAAA,IAAA;AAG/B,UAAM,kBAAkB,MAAM;AAC7B,mBAAa,OAAO,aAAa;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDnC,GAAG,WAAW,eAAe;"}