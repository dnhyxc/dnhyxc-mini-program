{"version":3,"file":"index.js","sources":["pages/codesnippet/index.vue","pages/codesnippet/index.vue?type=page"],"sourcesContent":["<template>\r\n\t<div v-if=\"codeStore.detailLoading\" class=\"detail-wrap-loading\">\r\n\t\t<u-loading-icon vertical size=\"38\" text=\"正在加载中\" color=\"#5782ff\"></u-loading-icon>\r\n\t</div>\r\n\t<scroll-view v-else enable-back-to-top enable-flex enable-passive class=\"detail-wrap\" scroll-y=\"true\">\r\n\t\t<div class=\" title\">{{ codeStore.detail.title }}</div>\r\n\t\t<mp-html :content=\"processedAbstract\" style=\"line-height: 2em\" />\r\n\t\t<mp-html :content=\"codeStore.html\" style=\"line-height: 2em\" />\r\n\t</scroll-view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n\timport { ref, computed } from \"vue\";\r\n\t// @ts-ignore\r\n\timport { onLoad } from \"@dcloudio/uni-app\";\r\n\timport { useCodeStore } from \"../../stores/code\";\r\n\t// @ts-ignore\r\n\timport mpHtml from \"@/components/mp-html/mp-html.vue\";\r\n\r\n\tconst codeStore = useCodeStore();\r\n\r\n\tconst scrollIntoId = ref<string>(\"\");\r\n\tconst scrollTop = ref<number>(0);\r\n\r\n\tconst processedAbstract = computed(() => {\r\n\t\tif (!codeStore.detail.abstract) return \"\";\r\n\t\treturn codeStore.detail.abstract.replace(\r\n\t\t\t/<code([^>]*)>/g,\r\n\t\t\t'<code$1 class=\"hljs-inline\">'\r\n\t\t);\r\n\t});\r\n\r\n\t// 通过 options 获取路由跳转携带的参数\r\n\tonLoad(async (options) => {\r\n\t\t// 获取扫码进入的 scene 参数\r\n\t\tconst id = decodeURIComponent(options.scene);\r\n\t\tconst codeId = ![\"undefined\", \"null\"].includes(id) ? id : options?.id;\r\n\t\tawait codeStore.getCodeById(codeId);\r\n\t});\r\n\r\n\tconst onScroll = (e : any) => {\r\n\t\tscrollIntoId.value = \"\";\r\n\t\tscrollTop.value = e.detail.scrollTop;\r\n\t};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t@import \"@/styles/index.scss\";\r\n\r\n\t.detail-wrap {\r\n\t\tbackground-color: $bg;\r\n\t\tpadding: 15px;\r\n\t\tbox-sizing: border-box;\r\n\t\tmin-height: 100vh;\r\n\r\n\t\t.title {\r\n\t\t\tfont-size: 20px;\r\n\t\t\tfont-weight: 700;\r\n\t\t\tmargin-bottom: 10px;\r\n\t\t}\r\n\r\n\t\t:deep {\r\n\t\t\t.u-textarea {\r\n\t\t\t\tbackground-color: #282c34 !important;\r\n\t\t\t\toverflow: auto;\r\n\t\t\t}\r\n\r\n\t\t\t.u-textarea__field {\r\n\t\t\t\tcolor: #fff !important;\r\n\t\t\t\twhite-space: nowrap !important;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.detail-wrap-loading {\r\n\t\theight: 100vh;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\r\n\t\t:deep {\r\n\t\t\t.u-loading-icon__text {\r\n\t\t\t\tfont-size: 18px !important;\r\n\t\t\t\tcolor: #5782ff !important;\r\n\t\t\t\tmargin-top: 15px !important;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n<style>\r\n\t.code-container {\r\n\t\tposition: relative;\r\n\t\tbackground-color: #282c34;\r\n\t\tpadding: 25px 10px 10px;\r\n\t\tborder-radius: 5px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t.code-content {\r\n\t\tborder-radius: 5px;\r\n\t\toverflow-x: auto;\r\n\t}\r\n\r\n\t.code-title {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\theight: 25px;\r\n\t\tcolor: #ccc;\r\n\t\tfont-size: 12px;\r\n\t\tpadding-right: 10px;\r\n\t}\r\n\r\n\t.code-flag {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 100%;\r\n\t\tmargin-right: 20px;\r\n\t\tpadding-left: 20px;\r\n\t}\r\n\r\n\t.code-flag .flag {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 10px;\r\n\t\theight: 10px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: red;\r\n\t}\r\n\r\n\t.code-flag .first-flag {\r\n\t\tbackground-color: #ec6a6b;\r\n\t}\r\n\r\n\t.code-flag .secend-flag {\r\n\t\tbackground-color: #f4bf4f;\r\n\t\tmargin: 0 5px;\r\n\t}\r\n\r\n\t.code-flag .third-flag {\r\n\t\tbackground-color: #61c554;\r\n\t}\r\n\r\n\t.code-line {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\tline-height: 1.5em;\r\n\t}\r\n\r\n\t.line-number {\r\n\t\tpadding-right: 10px;\r\n\t\ttext-align: right;\r\n\t\tcolor: #999;\r\n\t\tuser-select: none;\r\n\t}\r\n\r\n\t.hljs {\r\n\t\tcolor: #abb2bf;\r\n\t\tbackground: #282c34;\r\n\t\tpadding-right: 10px;\r\n\t}\r\n\r\n\t.hl-pre {\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.hljs-inline {\r\n\t\tcolor: #2bb91b;\r\n\t\tline-height: 1em;\r\n\t\tpadding: 2px 5px 3px;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t.hljs-comment,\r\n\t.hljs-quote {\r\n\t\tcolor: #5c6370;\r\n\t\tfont-style: italic;\r\n\t}\r\n\r\n\t.hljs-quote {\r\n\t\tborder-left: 3px solid #abb2bf;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tborder-radius: 5px;\r\n\t\tpadding-left: 5px;\r\n\t\tmargin: 5px 0;\r\n\t}\r\n\r\n\t.hljs-doctag,\r\n\t.hljs-keyword,\r\n\t.hljs-formula {\r\n\t\tcolor: #c678dd;\r\n\t}\r\n\r\n\t.hljs-section,\r\n\t.hljs-name,\r\n\t.hljs-selector-tag,\r\n\t.hljs-deletion,\r\n\t.hljs-subst {\r\n\t\tcolor: #e06c75;\r\n\t}\r\n\r\n\t.hljs-literal {\r\n\t\tcolor: #56b6c2;\r\n\t}\r\n\r\n\t.hljs-string,\r\n\t.hljs-regexp,\r\n\t.hljs-addition,\r\n\t.hljs-attribute,\r\n\t.hljs-meta .hljs-string {\r\n\t\tcolor: #98c379;\r\n\t}\r\n\r\n\t.hljs-attr,\r\n\t.hljs-variable,\r\n\t.hljs-template-variable,\r\n\t.hljs-type,\r\n\t.hljs-selector-class,\r\n\t.hljs-selector-attr,\r\n\t.hljs-selector-pseudo,\r\n\t.hljs-number {\r\n\t\tcolor: #d19a66;\r\n\t}\r\n\r\n\t.hljs-symbol,\r\n\t.hljs-bullet,\r\n\t.hljs-link,\r\n\t.hljs-meta,\r\n\t.hljs-selector-id,\r\n\t.hljs-title {\r\n\t\tcolor: #61aeee;\r\n\t}\r\n\r\n\t.hljs-built_in,\r\n\t.hljs-title.class_,\r\n\t.hljs-class .hljs-title {\r\n\t\tcolor: #e6c07b;\r\n\t}\r\n\r\n\t.hljs-emphasis {\r\n\t\tfont-style: italic;\r\n\t}\r\n\r\n\t.hljs-strong {\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.hljs-link {\r\n\t\ttext-decoration: underline;\r\n\t}\r\n</style>","import MiniProgramPage from '/Users/dnhyxc/Documents/miniprogram/dnhyxc/pages/codesnippet/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useCodeStore","ref","computed","onLoad"],"mappings":";;;;;;;;;;;AAiBC,MAAA,SAAmB,MAAA;;;;AAEnB,UAAM,YAAYA,YAAAA;AAEGC,kBAAAA,IAAY,EAAE;AACjBA,kBAAAA,IAAY,CAAC;AAEzB,UAAA,oBAAoBC,cAAAA,SAAS,MAAM;AACpC,UAAA,CAAC,UAAU,OAAO;AAAiB,eAAA;AAChC,aAAA,UAAU,OAAO,SAAS;AAAA,QAChC;AAAA,QACA;AAAA,MAAA;AAAA,IACD,CACA;AAGDC,kBAAA,OAAO,OAAO,YAAY;AAEnB,YAAA,KAAK,mBAAmB,QAAQ,KAAK;AACrC,YAAA,SAAS,CAAC,CAAC,aAAa,MAAM,EAAE,SAAS,EAAE,IAAI,KAAK,mCAAS;AAC7D,YAAA,UAAU,YAAY,MAAM;AAAA,IAAA,CAClC;;;;;;;;;;;;;;;;;;;;;;;;ACrCF,GAAG,WAAW,eAAe;"}