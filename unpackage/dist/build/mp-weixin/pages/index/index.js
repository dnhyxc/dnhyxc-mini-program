"use strict";const e=require("../../common/vendor.js"),o=require("../../stores/article.js");if(!Array){(e.resolveComponent("u-loading-icon")+e.resolveComponent("u-search")+e.resolveComponent("u-list-item")+e.resolveComponent("u-list"))()}Math||((()=>"../../node-modules/uview-plus/components/u-loading-icon/u-loading-icon.js")+(()=>"../../node-modules/uview-plus/components/u-search/u-search.js")+(()=>"../../node-modules/uview-plus/components/u-list-item/u-list-item.js")+(()=>"../../node-modules/uview-plus/components/u-list/u-list.js"))();const t=e.defineComponent({__name:"index",setup(t){const n=o.useArticleStore(),i=e.ref(""),s=e.computed((()=>{const{total:e,articleList:o,pageSize:t}=n;return o.length>=e&&o.length&&e>t}));e.onMounted((()=>{l()})),e.onUnmounted((()=>{n.init()}));const a=()=>{l()},l=async e=>{await n.getArticleList(e)},u=async e=>{n.init(),await l(e)},c=async()=>{n.init(),await l()};return(o,t)=>e.e({a:e.unref(n).loading},e.unref(n).loading?{b:e.p({vertical:!0,size:"38",text:"正在加载中",color:"#5782ff"})}:{},{c:e.o(u),d:e.o(c),e:e.o((e=>i.value=e)),f:e.p({placeholder:"输入标题搜索",shape:"square",height:"40px",clearabled:!0,showAction:!1,modelValue:i.value}),g:e.f(e.unref(n).articleList,((o,t,n)=>({a:o.coverImage,b:e.t(o.title),c:e.t(o.abstract),d:e.o((t=>(o=>{e.index.navigateTo({url:`/pages/detail/index?id=${o.id}`})})(o)),t),e:t,f:"d31426c1-3-"+n+",d31426c1-2"}))),h:s.value},(s.value,{}),{i:e.o(a),j:e.p({lowerThreshold:"10",height:"calc(100vh - 55px)"})})}}),n=e._export_sfc(t,[["__scopeId","data-v-d31426c1"]]);wx.createPage(n);
