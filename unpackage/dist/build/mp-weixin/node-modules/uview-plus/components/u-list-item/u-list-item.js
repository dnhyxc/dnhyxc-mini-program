"use strict";const t=require("../../../../common/vendor.js"),e={name:"u-list-item",mixins:[t.mpMixin,t.mixin,t.props$2],data:()=>({rect:{},index:0,show:!0,sys:t.getWindowInfo()}),computed:{},inject:["uList"],watch:{"uList.innerScrollTop"(t){const e=this.uList.preLoadScreen,i=this.sys.windowHeight;t<=i*e?this.parent.updateOffsetFromChild(0):this.rect.top<=t-i*e&&this.parent.updateOffsetFromChild(this.rect.top)}},created(){this.parent={}},mounted(){this.init()},methods:{init(){this.updateParentData(),this.index=this.parent.children.indexOf(this),this.resize()},updateParentData(){this.getParentData("u-list")},resize(){this.queryRect(`u-list-item-${this.anchor}`).then((t=>{const e=this.parent.children[this.index-1];this.rect=t;const i=this.uList.preLoadScreen,s=this.sys.windowHeight;e&&(this.rect.top=e.rect.top+e.rect.height),t.top>=this.uList.innerScrollTop+(1+i)*s&&(this.show=!1)}))},queryRect(t){return new Promise((e=>{this.$uGetRect(`.${t}`).then((t=>{e(t)}))}))}}};const i=t._export_sfc(e,[["render",function(e,i,s,n,r,h){return{a:`u-list-item-${e.anchor}`,b:`u-list-item-${e.anchor}`,c:t.n(`u-list-item-${e.anchor}`)}}],["__scopeId","data-v-473c716f"]]);wx.createComponent(i);
